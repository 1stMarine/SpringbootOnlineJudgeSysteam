<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--namespace对应mapper接口所在的位置-->
<mapper namespace="com.ckw.question.mapper.RecordMapper">

    <insert id="addRecord" parameterType="com.ckw.judger.pojo.SubmitRecord">
        insert into oj_submit_record values (
                                             #{id},
                                             #{uid},
                                             #{qid},
                                             #{questionName},
                                             #{time},
                                             #{memory},
                                             #{language},
                                             #{code},
                                             #{submitTime},
                                             #{title},
                                             #{message},
                                             #{testSample},
                                             #{userName}
                                            )
    </insert>

    <select id="getSubmitRecordList" resultType="com.ckw.judger.pojo.SubmitRecord">
        select * from oj_submit_record where uid = #{uid} and qid = #{qid} order by id desc limit #{page},10
    </select>


    <select id="getSubmitRecordListWithQid" resultType="com.ckw.judger.pojo.SubmitRecord">
        select * from oj_submit_record where  qid = #{qid}  order by id desc limit #{page},10
    </select>

    <select id="getSubmitRecordListWithUid" resultType="com.ckw.judger.pojo.SubmitRecord">
        select * from oj_submit_record where  uid = #{uid}  order by id desc limit #{page},10
    </select>
</mapper>